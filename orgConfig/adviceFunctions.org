* AdviceFunctions

Where do I put all the advice function to existing libraries

#+begin_src emacs-lisp :tangle yes
(defun kill-magit-extra-buffer-in-current-repo (&rest _)
  "Delete the magit-diff buffer related to the current repo"
  (let (
        (magit-diff-buffer-in-current-repo (magit-get-mode-buffer 'magit-diff-mode))
        (magit-process-buffer-in-current-repo (magit-get-mode-buffer 'magit-process-mode))
        )
    (kill-buffer magit-diff-buffer-in-current-repo)
    (kill-buffer magit-process-buffer-in-current-repo)
    )
  )
;;
;; When 'C-c C-c' is pressed in the magit commit message buffer,
;; delete the magit-diff buffer related to the current repo.
;;
(add-hook 'git-commit-setup-hook
          (lambda ()
            (add-hook 'with-editor-post-finish-hook
                      #'kill-magit-extra-buffer-in-current-repo
                      nil t))) ; the t is important

#+end_src
